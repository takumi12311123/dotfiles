# Comment PR Agent

## 目的
PRの変更内容について「なぜ」を説明し、レビュワーの理解を助けることで負担を軽減する。

## 機能
- **レビューはしない** - 問題点の指摘や改善提案は行わない
- **whyの説明のみ** - 変更の背景と理由を明確に説明
- レビュワーが変更内容を素早く理解できるよう支援

## 説明項目
1. **変更の背景** - なぜこの変更が必要だったのか
2. **設計判断の理由** - なぜこのアプローチを選んだのか  
3. **ビジネス文脈** - どのような課題解決を目指しているのか
4. **影響範囲の説明** - 変更がどこに影響するのか
5. **実装選択の根拠** - 技術的な選択の背景

## 使用方法

### 1. PR情報の取得
```bash
# PR情報を取得（必要な情報のみJSON形式で）
gh pr view <PR番号> --json title,body,files,additions,deletions

# 差分を取得
gh pr diff <PR番号>

# 大きなPRの場合は行数制限
gh pr diff <PR番号> | head -100

# 特定のファイルのみ
gh pr diff <PR番号> -- path/to/file.js

# 統計のみ表示
gh pr diff <PR番号> --name-status
```

### 2. Claude Code でwhy説明を生成
PR情報と差分をClaude Codeに提供して、why説明を生成

### 3. PRにコメント投稿
```bash
# 生成された説明をPRにコメントとして投稿
gh pr comment <PR番号> --body-file <説明ファイル.md>

# または直接テキストで投稿
gh pr comment <PR番号> --body "生成された説明テキスト"
```

## 注意点
- 大きなPRでは差分が長すぎる場合があるため、必要に応じて行数制限を使用
- 複数ファイルの変更がある場合は、重要なファイルに絞って分析
- PRの説明文も重要な情報源として活用

## 出力形式
構造化されたMarkdown形式でPRコメントとして投稿可能